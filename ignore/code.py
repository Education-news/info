import secrets


def get_new_code_verifier() -> str:
    token = secrets.token_urlsafe(100)
    return token[:128]


code_verifier = code_challenge = get_new_code_verifier()

print(len(code_verifier))
print(code_verifier)


# Example:
#
# 128
# NklUDX_CzS8qrMGWaDzgKs6VqrinuVFHa0xnpWPDy7_fggtM6kAar4jnTwOgzK7nPYfE9n60rsY4fhDExWzr5bf7sEvMMmSXcT2hWkCstFGIJKoaimoq5GvAEQD8NZ8g


# KFAILYWBT632KBDddgFwp6HI190sypYmyukP2pSsV8miPN1pdGZHkz9bWV2Vn4GMybUKIg3H3gqIo1hKn-U8cgpPwhxZAf9cicQXN1ZFOQCnCaPkRIYRvdxvjrb4kRGL


# code
#

# main link
# http://localhost/oauth?code=def5020093b1817138b12c2f240fa04022c5724ac6b009fb3536edb1518d9e59f23150b9771a7606fdd680b8a4de8ed8e5cd685f0263a6440f585236e179ee02e70017e7f11a40fcfc57fa5aa9621ea9e48ae48f2495f4ab7dff72ec2fc4083923df4440f7509d6a289612c5e2fa4d3aab67fd729166dabbce3f712ab72b253f9dce860e0750171465f117392bb80338df5b6df8d23d2d11d7e9494852785510a86538d5adb871554d2f3e1d8d47c3a6c818f9b14ddbc1faafc78d8ef79f9ed7cbd81249ea8b8045fb9ac620e4048076f9e43c88591fdcd322b09effee837e65d159bd4ab1b82b455c0671d95203e1f93ceb495e8388cd8ac572615233c55e690122f1e72fc0b4066609bce937d09504ead53bdafdd8d689036134dc90b362cc3491b3def274e94ed2197eb93fca91ee48cc9e23c72276bda335663deb64428881b7310f776015201959167b0635433cd9b54827ff447af24acaacd1c58b723bafb0f0b81ec23af715bcccd770cd61e742bb0ac198dbb7718ed0ed0b8419ead8866f2e814782b6ab33c3009b194fb02348cdbd2661ade1056f8561a832ad00a03b79a6945431cfa434d6ab1d3ef2cf6acb9085a4df7d98f2e14bad93f5273c86ca8fadf97fd733a1cc9d88d67dae750c4b900aa7a269553112277ab40e6f7b37b19bda74b48c6369dd9b&state=RequestID42


#https://myanimelist.net/v1/oauth2/token?client_id=e642cc09b2bfe9b5de753b7b67bbf5ef&client_secret=04c3b497457c6a1af959e4392c8e5f682eca26217018197f60c53e633f506a15&code=def5020093b1817138b12c2f240fa04022c5724ac6b009fb3536edb1518d9e59f23150b9771a7606fdd680b8a4de8ed8e5cd685f0263a6440f585236e179ee02e70017e7f11a40fcfc57fa5aa9621ea9e48ae48f2495f4ab7dff72ec2fc4083923df4440f7509d6a289612c5e2fa4d3aab67fd729166dabbce3f712ab72b253f9dce860e0750171465f117392bb80338df5b6df8d23d2d11d7e9494852785510a86538d5adb871554d2f3e1d8d47c3a6c818f9b14ddbc1faafc78d8ef79f9ed7cbd81249ea8b8045fb9ac620e4048076f9e43c88591fdcd322b09effee837e65d159bd4ab1b82b455c0671d95203e1f93ceb495e8388cd8ac572615233c55e690122f1e72fc0b4066609bce937d09504ead53bdafdd8d689036134dc90b362cc3491b3def274e94ed2197eb93fca91ee48cc9e23c72276bda335663deb64428881b7310f776015201959167b0635433cd9b54827ff447af24acaacd1c58b723bafb0f0b81ec23af715bcccd770cd61e742bb0ac198dbb7718ed0ed0b8419ead8866f2e814782b6ab33c3009b194fb02348cdbd2661ade1056f8561a832ad00a03b79a6945431cfa434d6ab1d3ef2cf6acb9085a4df7d98f2e14bad93f5273c86ca8fadf97fd733a1cc9d88d67dae750c4b900aa7a269553112277ab40e6f7b37b19bda74b48c6369dd9b&code_verifier=KFAILYWBT632KBDddgFwp6HI190sypYmyukP2pSsV8miPN1pdGZHkz9bWV2Vn4GMybUKIg3H3gqIo1hKn-U8cgpPwhxZAf9cicQXN1ZFOQCnCaPkRIYRvdxvjrb4kRGL&grant_type=authorization_code